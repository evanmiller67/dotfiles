<html>
<head>
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script type="text/javascript">
    function shuffle(a) {
        var j, x, i;
        for (i = a.length - 1; i > 0; i--) {
            j = Math.floor(Math.random() * (i + 1));
            x = a[i];
            a[i] = a[j];
            a[j] = x;
        }
    }

    var restaurants = "restaurants.txt";
    var dinner = [];
    var bgcolors = ["#951C14","#D81159","#218380","#73D2DE","#FF5714","#C3DD00","#F48668","#73A580","#F24236","#2E86AB","#539987","#FF5666"];
    var blinkSet = false;

    function loadXMLDoc() {
        var xhttp = new XMLHttpRequest();
        xhttp.open("GET", restaurants, true);
        xhttp.send();
        xhttp.onreadystatechange = function() {
              if (this.readyState == 4 && this.status == 200) {
                      dinner = this.responseText.split("\n");
                    }
            };
        document.getElementById("spinner").disabled=false
    }

    function spinTheWheel() {
      shuffle(dinner);
      document.getElementById("mealtime").innerHTML = dinner[0];
      document.getElementById("party").style.visibility="";
      document.getElementById("parrots").style.visibility="visible";
      if (!blinkSet) {
        setInterval(doBlink,150);
        blinkSet = true;
      }
    }

doBlink = function () {
    var blink = document.getElementById("mealtime");
    document.body.style.backgroundColor=bgcolors[Math.floor(Math.random() * (bgcolors.length + 1))];
    blink.style.visibility = blink.style.visibility == "" ? "hidden" : "";
}

window.onload = loadXMLDoc;
  </script>
    <style>
      #centered {
        margin: 0 auto;
        width: 800px; 
        text-align: center;
      }
      #parrots {
        visibility: hidden;
      }
      h1 {
        font-size: 48pt;
        color: #fff;
      }
      h2 {
        color: #fff;
      }
      img.parrot {
        padding: 0px;
        margin: 0px;
        float: left;
      }
    </style>
</head>
<body bgcolor="black">
  <div id="centered">
    <h2>Decide your fate:</h2>
    <input id="spinner" type="button" onclick="spinTheWheel()" value="MEAL OF FORTUNE" disabled=true/><br />
    <h1 id="mealtime"></h1>
    <img id="party" src="https://i.imgur.com/N6u0o2U.gif" style="visibility:hidden"/>
    <div id="parrots">
      <img class="parrot" src="http://cultofthepartyparrot.com/parrots/hd/congaparrot.gif" />
      <img class="parrot" src="http://cultofthepartyparrot.com/parrots/hd/congaparrot.gif" />
      <img class="parrot" src="http://cultofthepartyparrot.com/parrots/hd/congaparrot.gif" />
      <img class="parrot" src="http://cultofthepartyparrot.com/parrots/hd/congaparrot.gif" />
      <img class="parrot" src="http://cultofthepartyparrot.com/parrots/hd/congaparrot.gif" />
      <img class="parrot" src="http://cultofthepartyparrot.com/parrots/hd/congaparrot.gif" />
      <img class="parrot" src="http://cultofthepartyparrot.com/parrots/hd/congaparrot.gif" />
    </div>
  </div>
</body>
</html>
