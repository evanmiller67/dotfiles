<html>
<head>
  <title>MEAL OF DESTINY</title>
  <link href="https://fonts.googleapis.com/css?family=Bungee+Shade|Rubik:900" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script type="text/javascript">
    function shuffle(a) {
        var j, x, i;
        for (i = a.length - 1; i > 0; i--) {
            j = Math.floor(Math.random() * (i + 1));
            x = a[i];
            a[i] = a[j];
            a[j] = x;
        }
    }

    var restaurants = "restaurants.txt";
    var dinner = [];
    var bgcolors = ["#951C14","#D81159","#218380","#73D2DE","#FF5714","#C3DD00","#F48668","#73A580","#F24236","#2E86AB","#539987","#FF5666", 'powderblue', 'dodgerblue', 'hotpink', 'deeppink', 'gold', 'indianred', 'lightgreen', 'mediumpurple', 'olivedrab', 'orange', 'orangered', 'orchid', 'springgreen', 'steelblue'];
    var blinkSet = false;

    function loadXMLDoc() {
        var xhttp = new XMLHttpRequest();
        xhttp.open("GET", restaurants, true);
        xhttp.send();
        xhttp.onreadystatechange = function() {
              if (this.readyState == 4 && this.status == 200) {
                      dinner = this.responseText.split("\n");
                    }
            };
        document.getElementById("spinner").disabled=false
    }

    function toggleElementsVisibility(elems) {
        for (i=0; i < elems.length; i++) {
          toggleElementVisibility(elems[i]);
        }
    }

    function toggleElementVisibility(elem) {
      elem.style.visibility = elem.style.visibility == "" ? "hidden" : "";
    }

    function spinTheWheel() {
      shuffle(dinner);
      document.getElementById("mealtime").innerHTML = dinner[0];
      if (!blinkSet) {
        setInterval(blinkColor, 400);
        blinkSet = true;
        toggleElementsVisibility(document.getElementsByClassName("party"));
        toggleElementVisibility(document.getElementById("parrots"));
      }
    }

blinkColor = function () {
  var color = bgcolors[Math.floor(Math.random() * (bgcolors.length + 1))];
  document.body.style.transition = "background-color 0.4s ease";
  document.body.style.backgroundColor=color;
}
blinkRestaurant = function () {
    var blink = document.getElementById("mealtime");
    blink.style.visibility = blink.style.visibility == "" ? "hidden" : "";
}

window.onload = loadXMLDoc;
  </script>
    <style>
      body, .button, .button:disabled {
        font-family: 'Rubik', sans-serif;
      }
      #centered {
        margin: 0 auto;
        width: 777px; 
        text-align: center;
      }
      h1 {
        font-family: 'Bungee Shade', cursive;
        font-size: 92px;
        color: #fff;
      }
      h2 {
        font-size: 56px;
        color: #fff;
      }
      img.parrot {
        padding: 0px;
        margin: 0px;
        float: left;
      }
      .button {
        background-color: #4CAF50;
        border: none;
        color: white;
        padding: 15px 32px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 48px;
        cursor: pointer;
      }
      .button:disabled {
        background-color: #333;
        color: #999;
      }
			.blink {
					animation-duration: .75s;
					animation-name: blink;
					animation-iteration-count: infinite;
					animation-direction: alternate;
					animation-timing-function: ease-in-out;
			}
			@keyframes blink {
				from {
						opacity: 0;
				}
				to {
						opacity: 1;                    
				}
			}

/* Photo Banner */
.container {
    width: 777px;
    overflow: hidden;
    margin: 10px auto;
}

.photobanner{
    height: 200px;
    width: 6404px;
    margin-bottom: 5px;
    font-size: 0;
}

.photobanner img{
  margin-bottom: 10px;
  margin-right: 0px;
  height: 200px;
}

 
/*keyframe animations*/
.first {
    -webkit-animation: bannermove 15s linear infinite;
}
 
@-webkit-keyframes "bannermove" {
 0% {margin-left: 0px;}
 100% {margin-left: -9590px;}
}
 
    </style>
</head>
<body  bgcolor="black">
  <div id="centered">
    <h2>Decide your fate:</h2>
    <button class="button" id="spinner" onclick="spinTheWheel()" disabled=true>MEAL OF FORTUNE</button><br />
    <h1 id="mealtime" class="blink"></h1>
    <div id="parrots" style="visibility:hidden">
      <img class="parrot" src="http://cultofthepartyparrot.com/parrots/hd/congaparrot.gif" />
      <img class="parrot" src="http://cultofthepartyparrot.com/parrots/hd/congaparrot.gif" />
      <img class="parrot" src="http://cultofthepartyparrot.com/parrots/hd/congaparrot.gif" />
      <img class="parrot" src="http://cultofthepartyparrot.com/parrots/hd/congaparrot.gif" />
      <img class="parrot" src="http://cultofthepartyparrot.com/parrots/hd/congaparrot.gif" />
      <img class="parrot" src="http://cultofthepartyparrot.com/parrots/hd/congaparrot.gif" />
      <img class="parrot" src="http://cultofthepartyparrot.com/parrots/hd/congaparrot.gif" />
    </div>
		<div class="container">
			<div class="photobanner">
        <img class="first party" style="visibility:hidden" height="200" src="https://i.imgur.com/N6u0o2U.gif"/>
        <img class="party"			 style="visibility:hidden" height="200" src="https://thumbs.gfycat.com/BarrenBitterFox-small.gif"/>
        <img class="party"			 style="visibility:hidden" height="200" src="https://img.memecdn.com/party-hard_o_926441.gif"/>
        <img class="party"			 style="visibility:hidden" height="200" src="https://media2.giphy.com/media/MS3XuWjQV1FiU/source.gif"/>
        <img class="party"			 style="visibility:hidden" height="200" src="https://media.giphy.com/media/qqBQm1IPNGvzG/giphy.gif"/>
        <img class="party"			 style="visibility:hidden" height="200" src="https://media.giphy.com/media/wIcbyzdjGlJgk/giphy.gif"/>
        <img class="party"			 style="visibility:hidden" height="200" src="https://i.imgur.com/GRqXgRe.gif"/>
        <img class="party"			 style="visibility:hidden" height="200" src="https://vignette.wikia.nocookie.net/gfaqsff/images/7/76/Dr._Hibbert_Party_Hard.gif/revision/latest?cb=20140325092345"/>
        <img class="party"			 style="visibility:hidden" height="200" src="https://media.giphy.com/media/zQLjk9d31jlMQ/giphy.gif"/>
        <img class="party"			 style="visibility:hidden" height="200" src="https://m.popkey.co/2d82b0/NDmzX.gif"/>
        <img class="party"			 style="visibility:hidden" height="200" src="https://m.popkey.co/3892f6/q4MR0_f-maxage-0_s-200x150.gif"/>
        <img class="party"			 style="visibility:hidden" height="200" src="https://media1.tenor.com/images/259eb21de66996e22f81d1b78c154a48/tenor.gif?itemid=5486376"/>
        <img class="party"			 style="visibility:hidden" height="200" src="http://gifs.gifburger.com/744-cybergoth-dance-party.gif"/>
        <img class="party"			 style="visibility:hidden" height="200" src="https://media.giphy.com/media/3o6Mbl0kpk4i9G2GCQ/giphy.gif"/>
        <img class="party"			 style="visibility:hidden" height="200" src="https://media1.tenor.com/images/e9d484e691aac2d0f0a7427e3ec81922/tenor.gif?itemid=5541830"/>
        <img class="party"			 style="visibility:hidden" height="200" src="https://i.imgur.com/893Smv1.gif"/>
        <img class="party"       style="visibility:hidden" height="200" src="https://i.imgur.com/N6u0o2U.gif"/>
        <img class="party"			 style="visibility:hidden" height="200" src="https://thumbs.gfycat.com/BarrenBitterFox-small.gif"/>
        <img class="party"			 style="visibility:hidden" height="200" src="https://img.memecdn.com/party-hard_o_926441.gif"/>
        <img class="party"			 style="visibility:hidden" height="200" src="https://media2.giphy.com/media/MS3XuWjQV1FiU/source.gif"/>
        <img class="party"			 style="visibility:hidden" height="200" src="https://media.giphy.com/media/qqBQm1IPNGvzG/giphy.gif"/>
        <img class="party"			 style="visibility:hidden" height="200" src="https://media.giphy.com/media/wIcbyzdjGlJgk/giphy.gif"/>
      </div>
    </div>
  </div>
</body>
</html>
